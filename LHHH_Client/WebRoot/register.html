<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>乐活黄海注册</title>
<meta name="format-detection" content="telephone=no" />
<link href="css/mstyle.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/jquery.js"></script>
</head>
<body class="bodybgs">
	<nav class="nav3 p">
		<i class="btn2"><a href="javascript:history.go(-1)">返回</a> </i> <strong>注册</strong>
		<i class="btn3"><a href="login.html">登陆</a> </i>
	</nav>
	<section class="form-group" id="inputObj1">
		<form action="registerServlet" method="post">
			<p class="flastHint" id="infoHint"></p>
			<div class="form-text-login nob" id="pwd_1">
				<label class="font-two" style="width: 90px;">手机号：</label> <input
					type="text" name="id" class="form-text form-control" placeholder="请输入手机号">
			</div>
			<div class="form-text-login nob" id="pwd_1">
				<label class="font-two" style="width: 90px;">密码：</label> <input
					type="password" name="mm" class="form-text form-control" placeholder="长度6-20位">
			</div>
			<div class="form-text-login nob" id="pwd_1">
				<label class="font-two" style="width: 90px;">确认密码：</label> <input
					type="password" name="qrmm" class="form-text form-control" placeholder="请输入确认密码">
			</div>
			
			<div class="form-text-login nob" id="pwd_1">
				<label class="font-two" style="width: 90px;">昵称：</label> <input
					type="text" name="nc" class="form-text form-control" placeholder="请输入昵称">
			</div>
			<input type="hidden" name="page" id="page" value="">
			<div class="btn5" style="margin-top:12px">
				<input type="submit" value="注&nbsp;&nbsp;册">
			</div>
		</form>
	</section>
	
	<script type="text/javascript">
		var page = getUrlParam('page');
		$("#page").attr("value", page);
		function getUrlParam(name) {
			var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
			var r = window.location.search.substr(1).match(reg); //匹配目标参数
			if (r != null)
				return unescape(r[2]);
			return null; //返回参数值
		}

		$("form").submit(function() {
			var reg = /^1[3|5|4|8]\d{9}$/;
			var id = $("input[name='id']").val();
			var mm = $("input[name='mm']").val();
			var mml = mm.length;
			var qrmm = $("input[name='qrmm']").val();
			var mm = $("input[name='nc']").val();
			//判断是否为空
			if (!$.trim(id)) {
				alert("手机号  不能为空!");
				return false;
			} else if (!$.trim(mm)) {
				alert("密码 不能为空!");
				return false;
			} else if (!$.trim(qrmm)) {
				alert("确认密码  不能为空!");
				return false;
			} else if (!$.trim(nc)) {
				alert("昵称 不能为空!");
				return false;
			}else if (!reg.test(id)) {
				alert("请填写正确的手机号!");
				return false;
			}else if(mml < 6 || mml > 20){
				alert("密码长度应该为6到20!");
				return false;
			}else if (mm != qrmm) {
				alert("两次输入的密码不同!");
				return false;
			}
		});
	</script>
</body>
</html>